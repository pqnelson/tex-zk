\begin{node}[Transforming to NNF]\label{prop-000R}%
We can transform a formula into negation normal form by eliminating
``$\implies$'' and ``$\iff$'' using
\begin{subequations}
\begin{equation}
(A\implies B) \iff ((\neg A)\lor B),
\end{equation}
and
\begin{equation}
(A\iff B)\iff((A\lor\neg B)\land((\neg A)\lor B)).
\end{equation}
\end{subequations}
We can use De Morgan laws to simplify negated conjunctions and
disjunctions, and ``pull negations down to the literals'':
\begin{subequations}
  \begin{align}
    \neg(A\land B) &\iff (\neg A)\lor(\neg B)\\
    \neg(A\lor B) &\iff (\neg A)\land(\neg B)\\
    \neg(\neg A) &\iff A
\end{align}
\end{subequations}
In \SML, we could write a function transforming any \verb|Prop|
instance~\zref{prop-000G} into negation normal form (using some
optimizations) as something like:
\begin{sml}
(* nnf : Prop -> Prop *)
fun nnf (And(A,B)) = And (nnf A, nnf B)
  | nnf (Or(A,B)) = Or(nnf A, nnf B)
  | nnf (Implies(A,B)) = Or(nnf(Not A), nnf B)
  | nnf (Iff(A,B)) = Or(And(nnf A, nnf B),
                        And(nnf(Not A), nnf(Not B)))
  | nnf (Not (Not A)) = nnf A
  | nnf (Not (And (A, B))) = Or(nnf(Not A),nnf(Not B))
  | nnf (Not (Implies (A,B))) = And(nnf A, nnf(Not B))
  | nnf (Not (Iff (A,B))) = Or(And(nnf A, nnf(Not B)),
                               And(nnf(Not A), nnf B))
  | nnf (fm as _) = fm;
\end{sml}
\end{node}
